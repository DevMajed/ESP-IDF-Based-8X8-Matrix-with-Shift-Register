// Header of Led_Matrix.C
#include "led_matrix.h"

// For C/C++
#include <stdio.h>
#include <stdlib.h>

// For Logging
#include "esp_log.h"
static const char *TAG = "MAIN";

// For FreeRTOS Delay and Drivers
#include "freertos/FreeRTOS.h"
#include <freertos/task.h>
#include "driver/gpio.h"

// Array holding the data ( numbers and letters ) 0-9 and A-F
const uint8_t data[] ={

    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // " "
    0x00, 0x00, 0x01, 0x7F, 0x21, 0x00, 0x00, 0x00, // "1"
    0x00, 0x00, 0x31, 0x49, 0x45, 0x23, 0x00, 0x00, // "2"
    0x00, 0x00, 0x36, 0x49, 0x49, 0x22, 0x00, 0x00, // "3"
    0x00, 0x00, 0x02, 0x7F, 0x32, 0x0E, 0x00, 0x00, // "4"
    0x00, 0x00, 0x46, 0x49, 0x49, 0x79, 0x00, 0x00, // "5"
    0x00, 0x00, 0x3C, 0x4A, 0x49, 0x3E, 0x00, 0x00, // "6"
    0x00, 0x00, 0x70, 0x48, 0x4E, 0x60, 0x00, 0x00, // "7"
    0x00, 0x00, 0x2E, 0x51, 0x51, 0x2E, 0x00, 0x00, // "8"
    0x00, 0x00, 0x3E, 0x49, 0x49, 0x32, 0x00, 0x00, // "9"
    0x00, 0x00, 0x3E, 0x41, 0x41, 0x3E, 0x00, 0x00, // "0"
    0x00, 0x00, 0x3F, 0x44, 0x44, 0x3F, 0x00, 0x00, // "A"
    0x00, 0x00, 0x36, 0x49, 0x49, 0x7F, 0x00, 0x00, // "B"
    0x00, 0x00, 0x22, 0x41, 0x41, 0x3E, 0x00, 0x00, // "C"
    0x00, 0x00, 0x3E, 0x41, 0x41, 0x7F, 0x00, 0x00, // "D"
    0x00, 0x00, 0x41, 0x49, 0x49, 0x7F, 0x00, 0x00, // "E"
    0x00, 0x00, 0x40, 0x48, 0x48, 0x7F, 0x00, 0x00 // "F"

};

// Array holding the data for smiling face
const uint8_t smillingFace[] ={

    0x1C, 0x22, 0x51, 0x45, 0x45, 0x51, 0x22, 0x14

};


// Function to initilize Hardware
static void init_hw(void) {
    // An instance of the structure type gpio_config_t to configure GPIO Pins
    gpio_config_t io_conf = {
        // Bitmask to know what pins we are using in ESP32
        .pin_bit_mask = (1ULL << LATCH_PIN) | (1ULL << CLOCK_PIN) | (1ULL << DATA_PIN),
        // Set GPIO pins specified above to operate as an output (To Shift Register)
        .mode = GPIO_MODE_OUTPUT,
        // No interrupts needed
        .intr_type = GPIO_INTR_DISABLE,
        // No pull-up/pull-down needed
        .pull_up_en = 0,
        .pull_down_en = 0,
    };

    // Calling config function by passing the address of the io_conf struct
    // This is to make the settings for the GPIO.
    gpio_config(&io_conf);
}

void app_main() {

    // Set the log level for the TAG to ESP_LOG_DEBUG
    esp_log_level_set(TAG, ESP_LOG_DEBUG);
    ESP_LOGE(TAG, "This is an error");
    ESP_LOGW(TAG, "This is a warning");
    ESP_LOGI(TAG, "This is an info");
    ESP_LOGD(TAG, "This is a debug");
    ESP_LOGV(TAG, "This is a verbose");

    






}